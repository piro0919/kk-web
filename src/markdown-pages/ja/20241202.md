---
slug: "/blog/20241202"
date: "2024-12-02"
title: "searchParamsが煩わしい？nuqsにおまかせあれ"
---

searchParams ってすげーやっかいだなーと常々感じていまして。

どういうことかと言いますと、

- そもそも値の有無がめんどくさい、空文字なの？ undefined なの？ null なの？
- 型の変換がめんどくさい、number や boolean をいちいち変換しなきゃいけない
- 配列を扱うのがめんどくさい、要素数 0 は空配列なの？要素数 1 は文字列なの？配列なの？

などなど、めんどくせーったらありゃしません、コードも冗長になりますし。

にも関わらず画面単位で管理しないといけないので共通化も難しく、サーバーサイドも絡んでくるともうもうもう勘弁してくれ！！って感じです。

---

ということでいろいろ探していたところ、nuqs というライブラリを見つけました。

[nuqs](https://nuqs.47ng.com/)

ざっくりいうと、searchParams の扱いをラップしたパッケージでして。

なんと searchParams を useState のノリで扱えるという、すごい発想ですね。

しかもサーバーサイドも対応しているらしいので、え、無敵じゃん？っていう。

使い方もシンプルで型変換にも自動的にやってくれるので、もうここで書くこともないという。

---

今後は nuqs で楽しちゃおうと思います。
